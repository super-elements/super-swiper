<link rel="import" href="../polymer/polymer.html">
<link rel="stylesheet" href="../swiper/dist/css/swiper.min.css">
<script src="../swiper/dist/js/swiper.min.js"></script>
<!--
`super-swiper`
customized element

@demo demo/index.html
-->


<dom-module id="super-swiper">
  <template>
    <style>
     .swiper-container {
          width: 100%;
          height: 100%;
      }

    </style>
    <!-- <slot> -->
    <div class="swiper-container" id="swiper-container">
        <div class="swiper-wrapper">
           <slot></slot>
        </div>
        <!-- Add Pagination -->
        <slot name="addElement" > </slot>
    </div>

  </template>

  <script>
    Polymer({

      is: 'super-swiper',

      properties: {
        slidesPerView: {
          type: Number,
          value: 1,
          observer: '_currentState',
        },
        spaceBetween:{
          type: Number,
          value: 30,
          observer: '_currentState'
        },
        paginationnav: {
          type: Boolean,
          value: false,
          observer: '_currentState',
        },
        paginationClickable:{
          type: Boolean,
          value: false,
          observer: '_currentState',
        }
        // paginationHide:{
        //   type: Boolean,
        //   value: false,
        //   observer: '_currentState',
        // },
        // nextPrevButton: {
        //   type: Boolean,
        //   value: false,
        //   observer: '_currentState',
        // },
        // scrollnav: {
        //   type: Boolean,
        //   value: false,
        //   observer: '_currentState',
        // },
        // freeMode: {
        //   type: Boolean,
        //   value: false,
        //   observer: '_currentState',
        // },
        //  scrollbarHide: {
        //   type: Boolean,
        //   value: false,
        //   observer: '_currentState'
        // }          
      },
      _currentState: function(){
        var self = this;
        var obj = {observer: true,
           observerParents: true,
      };
        var prop = ["slidesPerView","spaceBetween","paginationnav","paginationClickable"];
         for (var att, i = 0, atts = self.attributes, n = atts.length; i < n; i++){
           att = atts[i];
           for(var k=0;k<prop.length;k++)
            {        
                if(att.nodeName == prop[k].toLowerCase())
                {
                  // if(att.nodeName == 'scrollnav')
                  // {
                  //   if (self.getElementsByClassName('swiper-scrollbar').length < 1)
                  //   {
                  //     obj.scrollbar = ".swiper-scrollbar";
                  //     var scrollbar = document.createElement("div");
                  //     scrollbar.className = "swiper-scrollbar";
                  //     scrollbar.slot= "addElement";
                  //     self.$['swiper-container'].appendChild(scrollbar);
                  //   }
                                    
                  // }
                  // if(att.nodeName == 'nextPrevbutton')
                  // {
                  //   if(self.getElementsByClassName('swiper-button-next').length < 1)
                  //   {
                  //     obj.pagination = ".swiper-pagination";
                  //     obj.nextButton=".swiper-button-next";
                  //     obj.prevButton=".swiper-button-prev";
                  //     //console.log("this is self variavble",self);
                  //     var nextButton = document.createElement("div");
                  //     var prevButton = document.createElement("div");
                  //     var pagination = document.createElement("div");
                  //     nextButton.className = "swiper-button-next";
                  //     prevButton.className = "swiper-button-prev";
                  //     pagination.className = "swiper-pagination";
                  //     pagination.slot= "addElement";
                  //     nextButton.slot= "addElement";
                  //     prevButton.slot= "addElement";
                  //     self.$['swiper-container'].appendChild(nextButton);
                  //     self.$['swiper-container'].appendChild(prevButton);
                  //     self.$['swiper-container'].appendChild(pagination);
                  //   }
                  //  }
                  
                  if(att.nodeName == 'paginationnav')
                  {                    
                    if (self.getElementsByClassName('swiper-pagination').length < 1)
                    {
                      obj.pagination = '.swiper-pagination';
                      var paginationDiv = document.createElement("div");
                      paginationDiv.className = "swiper-pagination";
                      paginationDiv.slot= "addElement";
                      self.$['swiper-container'].appendChild(paginationDiv);                       
                    }
                  }                  
                  obj[prop[k]]= att.nodeValue;                                  
                }
           }
            console.log("arrayLower obj ",obj);         
         }
        
         var swiper = new Swiper('.swiper-container', obj);      
      },
      ready: function() {
        
      }


    });
  </script>
</dom-module>